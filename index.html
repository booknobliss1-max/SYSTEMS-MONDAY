<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systems Monday | Interactive Console</title>
    <style>
        :root {
            --cobalt: #2E5BFF;
            --mint: #00F5A0;
            --orange: #FF6B35;
            --dark: #1A1A1B;
            --light: #F8F9FA;
            --panel: #252526;
            --danger: #ff4d4d;
        }

        body {
            font-family: 'Segoe UI', Tahoma, sans-serif;
            background-color: var(--dark);
            color: var(--light);
            margin: 0;
            padding: 20px;
        }

        .dashboard { max-width: 1000px; margin: 0 auto; }

        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid var(--cobalt);
            margin-bottom: 30px;
            position: relative;
        }

        h1 { font-size: 2.2rem; color: var(--mint); margin: 0; text-transform: uppercase; letter-spacing: 2px;}

        .reset-btn {
            position: absolute;
            right: 0;
            bottom: 10px;
            background: transparent;
            border: 1px solid var(--danger);
            color: var(--danger);
            padding: 5px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.7rem;
            text-transform: uppercase;
            transition: 0.3s;
        }

        .reset-btn:hover {
            background: var(--danger);
            color: white;
        }

        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .panel {
            background: var(--panel);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        h2 { color: var(--cobalt); font-size: 1.1rem; margin-top: 0; margin-bottom: 20px; text-transform: uppercase; border-left: 3px solid var(--mint); padding-left: 10px;}

        .task-item { display: flex; align-items: center; margin-bottom: 12px; }
        
        input[type="checkbox"] {
            width: 18px; height: 18px; margin-right: 12px; accent-color: var(--mint);
            cursor: pointer;
        }

        .big3-input, textarea {
            width: 100%;
            background: rgba(255,255,255,0.05);
            border: 1px solid #444;
            color: white;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .big3-input:focus { border-color: var(--mint); outline: none; }

        table { width: 100%; border-collapse: collapse; }
        th { color: var(--orange); font-size: 0.8rem; padding: 10px; }
        td { border: 1px solid #333; padding: 10px; text-align: center; }

        .habit-btn {
            width: 25px; height: 25px; border-radius: 50%;
            border: 2px solid #555; background: transparent;
            cursor: pointer; transition: 0.2s;
        }

        .habit-btn.active {
            background: var(--mint); border-color: var(--mint);
            box-shadow: 0 0 8px var(--mint);
        }

        .status-msg {
            text-align: center; font-size: 0.8rem; color: var(--mint);
            margin-top: 10px; height: 20px; opacity: 0.7;
        }

        @media (max-width: 768px) { 
            .grid-layout { grid-template-columns: 1fr; } 
            .reset-btn { position: static; margin-top: 15px; }
        }
    </style>
</head>
<body>

<div class="dashboard">
    <header>
        <h1>SYSTEMS MONDAY CONSOLE</h1>
        <div id="status" class="status-msg">System Active</div>
        <button class="reset-btn" onclick="resetSystem()">Reset New Week</button>
    </header>

    <div class="grid-layout">
        
        <div class="panel">
            <h2>Phase 1: Sunday Prep</h2>
            <div class="task-item"><input type="checkbox" id="check1" class="save-state"> <span>Mental Brain Dump</span></div>
            <div class="task-item"><input type="checkbox" id="check2" class="save-state"> <span>Environment Ready</span></div>
            <div class="task-item"><input type="checkbox" id="check3" class="save-state"> <span>Schedule Scrub</span></div>
            
            <h2 style="margin-top:25px;">The Big 3 Goals</h2>
            <input type="text" id="goal1" class="big3-input save-state" placeholder="1. Primary Objective">
            <input type="text" id="goal2" class="big3-input save-state" placeholder="2. Secondary Task">
            <input type="text" id="goal3" class="big3-input save-state" placeholder="3. Quick Win">
        </div>

        <div class="panel">
            <h2>Weekly Systems Tracker</h2>
            <table>
                <thead>
                    <tr><th>SYSTEM</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th></tr>
                </thead>
                <tbody id="habit-grid"></tbody>
            </table>
        </div>

        <div class="panel" style="grid-column: 1 / -1;">
            <h2>Monday Night Reflection</h2>
            <div class="grid-layout">
                <textarea id="wins" class="save-state" placeholder="List your wins..."></textarea>
                <textarea id="opti" class="save-state" placeholder="Automation & Optimization ideas..."></textarea>
            </div>
        </div>
    </div>
</div>

<script>
    const habitNames = ["Morning Ritual", "Deep Work (90m)", "Financial Check", "Peer Check-in"];
    const days = ["M", "T", "W", "T", "F"];

    // Build the grid
    const grid = document.getElementById('habit-grid');
    habitNames.forEach((name, rowIndex) => {
        let row = `<tr><td style="text-align:left; font-size:0.75rem">${name}</td>`;
        days.forEach((day, colIndex) => {
            const id = `habit-${rowIndex}-${colIndex}`;
            row += `<td><button id="${id}" class="habit-btn" onclick="toggleHabit('${id}')"></button></td>`;
        });
        row += `</tr>`;
        grid.innerHTML += row;
    });

    // Interaction Logic
    function toggleHabit(id) {
        const btn = document.getElementById(id);
        btn.classList.toggle('active');
        localStorage.setItem(id, btn.classList.contains('active'));
        updateStatus("Progress updated.");
    }

    document.querySelectorAll('.save-state').forEach(el => {
        el.addEventListener('input', () => {
            const val = el.type === 'checkbox' ? el.checked : el.value;
            localStorage.setItem(el.id, val);
            updateStatus("Syncing...");
        });
    });

    // Reset Logic
    function resetSystem() {
        if (confirm("Are you sure? This will wipe your current week's data to start a fresh cycle.")) {
            localStorage.clear();
            location.reload();
        }
    }

    // Initial Load
    window.onload = () => {
        document.querySelectorAll('.save-state').forEach(el => {
            const saved = localStorage.getItem(el.id);
            if (saved !== null) {
                if (el.type === 'checkbox') el.checked = (saved === 'true');
                else el.value = saved;
            }
        });
        document.querySelectorAll('.habit-btn').forEach(btn => {
            if (localStorage.getItem(btn.id) === 'true') btn.classList.add('active');
        });
    };

    function updateStatus(msg) {
        const status = document.getElementById('status');
        status.innerText = msg;
        setTimeout(() => { status.innerText = "System Active"; }, 1500);
    }
</script>

</body>
</html>
